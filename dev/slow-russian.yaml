components:
- type: function
  name: page-scraper
  api:
    method: POST
- type: function
  name: index-fetcher  
  api:
    method: GET
- type: function
  name: vocab-translator
  # permissions:
  # - "translate:*"
  api:
    method: POST
- type: bucket
  name: content
  # website: true
- type: function
  name: markdown-parser  
  trigger:
    type: bucket
    name: content
    path: markdown
- type: table
  name: content
  # fields:
  # - name: normalised_title
  #   type: string
  #  primary: true
- type: function
  name: page-indexer
  trigger:
    type: bucket
    name: content
    path: posts
- type: queue
  name: audio
- type: function
  name: audio-batcher
  trigger:
    type: table
    name: content
- type: function
  name: audio-generator
  # permissions:
  # - "polly:*"
  trigger:
    type: queue
    name: audio
    # batch: 1

