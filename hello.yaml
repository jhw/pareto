globals:
  app: pareto-demo
  src: lambda
  bucket: wol-deployments
  runtime: "3.7"
components:
  apis:
  - name: hello-get-api
    method: GET
  - name: hello-post-api
    method: POST
  triggers:
  - type: bucket
    name: hello-bucket
    website: true
  - type: table
    name: hello-table
    fields:
    - name: my-hash
      type: string
      primary: true
  - type: queue
    name: hello-queue
    batch: 1
  actions:
  - name: hello-action-1
    trigger:
      name: hello-bucket
      path: foo
    target:
      name: hello-bucket
  - name: hello-action-2
    trigger:
      name: hello-bucket
      path: bar
    target:
      name: hello-table
  - name: hello-action-3
    trigger:
      name: hello-table
    target:
      name: hello-queue
  - name: hello-action-4
    permissions:
    - "translate:*"
    trigger:
      name: hello-queue
    target:
      name: hello-bucket

