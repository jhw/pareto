globals:
  app: pareto-demo
  src: lambda
  bucket: wol-deployments
  runtime: "3.7"
components:
  apis:
  - name: hello-get-api
    method: GET
    iam:
      permissions:
      - "logs:*"
      - "s3:*"
      - "sqs:*"
      - "dynamodb:*"
  - name: hello-post-api
    method: POST
    iam:
      permissions:
      - "logs:*"
      - "s3:*"
      - "sqs:*"
      - "dynamodb:*"
  buckets:
  - name: hello-bucket
  websites:
  - name: hello-website
  tables:
  - name: hello-table
    fields:
    - name: my-hash
      type: string
      primary: true
  queues:
  - name: hello-queue
    batch: 1
  actions:
  - name: hello-action-1
    iam:
      permissions:
      - "logs:*"
      - "s3:*"
      - "sqs:*"
      - "dynamodb:*"
    trigger:
      name: hello-bucket
      path: foo
    target:
      name: hello-bucket
  - name: hello-action-2
    iam:
      permissions:
      - "logs:*"
      - "s3:*"
      - "sqs:*"
      - "dynamodb:*"
    trigger:
      name: hello-bucket
      path: bar
    target:
      name: hello-table
  - name: hello-action-3
    iam:
      permissions:
      - "logs:*"
      - "s3:*"
      - "sqs:*"
      - "dynamodb:*"
    trigger:
      name: hello-table
    target:
      name: hello-queue
  - name: hello-action-4
    iam:
      permissions:
      - "logs:*"
      - "s3:*"
      - "sqs:*"
      - "dynamodb:*"
    trigger:
      name: hello-queue
    target:
      name: hello-bucket

